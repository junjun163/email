<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1 th:text="${msg}"></h1>
    <h1>用户注册</h1>
    <form action="/user/register" method="post">
        姓名<input type="text" name="name"/><br/>
        密码<input type="text" name="password"/><br/>
        邮箱<input type="text" name="email" id="email"/>
        <input type="button" onclick="toSend()" id="h" value="发送验证码"/><br/>
        请输入收到的验证码<input type="text" name="code"/><br/>
        <input type="submit" value="注册"/>
    </form>

    <script src="../jquery/jquery-2.1.1min.js"></script>
    <script type="text/javascript">
        function toSend() {
            var email = $("#email").val();
            $.ajax({
                type:"GET",
                url:"/user/sendEmail?address="+email,
                contenType:"application/json;charset=utf-8",
                dataType: "json",
                success:function (message) {
                    $("#h").val("发送成功，请注意查收")
                },
                error:function (message) {

                }
            });
        }
    </script>
</body>
</html>